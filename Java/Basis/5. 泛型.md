### 5. 泛型

所谓泛型，就是允许在定义类，接口，方法时使用类型形参，这个类型形参（泛型）将在声明变量，创建对象。调用方法时，动态的指定（即传入实际的类型参数）

#### 定义泛型接口，类

##### 接口

```java
//定义接口时指定了一个泛型形参，该形参名为E
public interface List<E>{
	void add(E e);

    Iterator<E> iterator();

    E next();
}
```

##### 实现1:

```java
public class ListIntegerImpl implements List<Integer> {
    @Override
    public void add(Integer integer) {

    }

    @Override
    public Iterator<Integer> iterator() {
        return null;
    }

    @Override
    public Integer next() {
        return null;
    }
}

```

##### 实现2

```java
public class ListStringImpl implements List<String> {
    @Override
    public void add(String s) {

    }

    @Override
    public Iterator<String> iterator() {
        return null;
    }

    @Override
    public String next() {
        return null;
    }
}
```

#### 类型通配符

##### 定义

```java
public static void test(List<?> list){
	list.forEach(System.out::println);
}
```

##### 使用

```java
ArrayList<Integer> integers = new ArrayList<>();
integers.add(10);
integers.add(20);
integers.add(30);
ArrayList<String> strings = new ArrayList<>();
strings.add("this");
strings.add("is");
strings.add("way");
Test.test(integers);
Test.test(strings);
```

##### 设置类型通配符的上限

```java
public static void test(List<? extends String> list){
	list.forEach(System.out::println);
}
```

##### 使用

```java
ArrayList<Integer> integers = new ArrayList<>();
integers.add(10);
integers.add(20);
integers.add(30);
ArrayList<String> strings = new ArrayList<>();
strings.add("this");
strings.add("is");
strings.add("way");
//下面一行编译报错
Test.test(integers);
Test.test(strings);
```

##### 设置类型通配符的下限

```java
public static void test(List<? super Number> list){
	list.forEach(System.out::println);
}
```

##### 使用

```java
ArrayList<Integer> integers = new ArrayList<>();
integers.add(10);
integers.add(20);
integers.add(30);
ArrayList<String> strings = new ArrayList<>();
strings.add("this");
strings.add("is");
strings.add("way");
//下面两行编译报错
Test.test(integers);
Test.test(strings);
```

泛型形参也可以设置上限，但貌似设置不了下限.(可以一个父类上限，多个接口上限)

```java
public interface List <E extends Object & java.io.Serializable>{

    void add(E e);

    Iterator<E> iterator();

    E next();
}
```

#### 泛型方法

##### 定义

```java
[修饰符] <T,S> 返回值类型 方法名(形参列表){
	// 方法体
}
public static  <T extends String,E extends Integer> void GTest(T[] args, Collection<E> e){
	for (T arg : args) {
		System.out.println(arg);
	}
	e.forEach(System.out::println);
}
```

##### 使用

```java
String[] strs = {"this", "is", "way"};
ArrayList<Integer> integers = new ArrayList<>();
integers.add(10);
integers.add(20);
integers.add(30);
Test.GTest(strs,integers);
```

#### 擦除和转换

